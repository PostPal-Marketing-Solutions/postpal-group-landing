---
// Button
// ------------
// Description: Buttons are interactive elements activated by a user with a mouse, keyboard, or tap
// Properties:
// - Type: the type of the button (link, button, submit, reset). If its type is link, the button will be rendered as an anchor tag
// - Size: the size of the button (lg, base, sm)
// - Link: the link of the button (if type is link)
// - Modal: The id of the modal that the button can trigger (optional)
// - Style: the style of the button (primary, secondary, neutral)
// - Variation: the variation of the button (defaultoutline, link)
// - Elevated: whether the button is elevated or not (optional)
// - classes: additional classes
// Reference: https://wind-ui.com/components/buttons/

// Props
type Props = {
	type?: 'link' | 'button' | 'submit' | 'reset'
	size?: 'lg' | 'base' | 'sm'
	link?: string
	modal?: string
	style?: 'primary' | 'secondary' | 'neutral' | 'white'
	variation?: 'outline' | 'link'
	elevated?: boolean
	classes?: string
}
const {
	type = 'button',
	size = 'base',
	link,
	modal,
	style = 'primary',
	variation,
	elevated,
	classes
} = Astro.props
---

{
	type === 'link' || link ? (
		<a
			href={link}
			target={link?.startsWith('http') ? '_blank' : '_self'}
			class:list={[
				'button',
				{ ['button--' + `${size}`]: size },
				{ ['button--' + `${style}`]: style },
				{ ['button--' + `${variation}`]: variation },
				{ ['button--elevated']: elevated },
				{ [`${classes}`]: classes }
			]}
		>
			<slot />
		</a>
	) : (
		<button
			type={type}
			class:list={[
				'button',
				{ ['button--' + `${size}`]: size },
				{ ['button--' + `${style}`]: style },
				{ ['button--' + `${variation}`]: variation },
				{ ['button--elevated']: elevated },
				{ [`${classes}`]: classes }
			]}
			{...(modal ? { 'data-modal': modal } : {})}
		>
			<slot />
		</button>
	)
}
<style>
	.button {
		@apply inline-flex cursor-pointer items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-neutral-400 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50;
		@apply ring-offset-white dark:ring-offset-neutral-950;
	}

	.button--lg {
		@apply h-11 px-8;
	}

	.button--base {
		@apply h-10 px-4;
	}

	.button--sm {
		@apply h-9 px-3;
	}

	.button--elevated {
		@apply shadow-sm shadow-neutral-900/10 dark:shadow-black/30;
	}

	.button--outline {
		@apply border border-neutral-200 bg-transparent hover:bg-neutral-50 dark:border-neutral-800 dark:hover:bg-neutral-900/40;
	}
	.button--link {
		@apply bg-transparent px-0 underline-offset-4 hover:underline;
	}
	.button--primary {
		@apply bg-neutral-900 text-white hover:bg-neutral-800 dark:bg-neutral-50 dark:text-neutral-900 dark:hover:bg-neutral-200;
		@apply [&.button--outline]:border-neutral-300 [&.button--outline]:text-neutral-900 hover:[&.button--outline]:bg-neutral-50 dark:[&.button--outline]:border-neutral-700 dark:[&.button--outline]:text-neutral-100 dark:hover:[&.button--outline]:bg-neutral-900/40;
		@apply [&.button--link]:bg-transparent [&.button--link]:text-neutral-900 hover:[&.button--link]:text-neutral-700 dark:[&.button--link]:text-neutral-100 dark:hover:[&.button--link]:text-neutral-200;
	}

	.button--secondary {
		@apply bg-neutral-100 text-neutral-900 hover:bg-neutral-200 dark:bg-neutral-800 dark:text-neutral-100 dark:hover:bg-neutral-700;
		@apply [&.button--outline]:border-neutral-200 [&.button--outline]:text-neutral-900 dark:[&.button--outline]:border-neutral-700 dark:[&.button--outline]:text-neutral-100;
		@apply [&.button--link]:bg-transparent [&.button--link]:text-neutral-700 hover:[&.button--link]:text-neutral-900 dark:[&.button--link]:text-neutral-200 dark:hover:[&.button--link]:text-white;
	}

	.button--neutral {
		@apply bg-transparent text-neutral-600 hover:bg-neutral-100 hover:text-neutral-900 dark:text-neutral-300 dark:hover:bg-neutral-800 dark:hover:text-neutral-100;
		@apply [&.button--outline]:border-neutral-200 dark:[&.button--outline]:border-neutral-700;
		@apply [&.button--link]:bg-transparent [&.button--link]:text-neutral-600 hover:[&.button--link]:text-neutral-900 dark:[&.button--link]:text-neutral-300 dark:hover:[&.button--link]:text-neutral-100;
	}

	.button--white {
		@apply bg-white text-neutral-900 hover:bg-neutral-100 dark:bg-neutral-100 dark:text-neutral-900 dark:hover:bg-neutral-200;
		@apply [&.button--outline]:border-neutral-200 [&.button--outline]:text-neutral-900;
		@apply [&.button--link]:bg-transparent [&.button--link]:text-neutral-900 hover:[&.button--link]:text-neutral-700 dark:[&.button--link]:text-neutral-100 dark:hover:[&.button--link]:text-neutral-200;
	}
</style>
